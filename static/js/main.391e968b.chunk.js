(this["webpackJsonpkaamelott-soundboard"]=this["webpackJsonpkaamelott-soundboard"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),u=(n(11),n(1)),l=n(4),s=n.n(l);function i(e){var t=e.file,n=e.title,c=function(e){var t=Object(r.useMemo)((function(){return new Audio("sounds/".concat(e))}),[e]),n=Object(r.useRef)(),a=Object(r.useState)(!1),c=Object(u.a)(a,2),o=c[0],l=c[1],i="rythm-".concat(e.replace(/\./g,"-")),m=Object(r.useCallback)((function(){l(!0),n.current||(n.current=new s.a,n.current.connectExternalAudioElement(t),n.current.addRythm(i,"pulse",150,40)),n.current.start()}),[t,i]),f=Object(r.useCallback)((function(){l(!1),n.current.stop()}),[]);Object(r.useEffect)((function(){return t.addEventListener("play",m),t.addEventListener("ended",f),function(){t.removeEventListener("play",m),t.removeEventListener("ended",f)}}),[t,f,m]);var d=Object(r.useCallback)((function(){o?t.currentTime=t.duration:t.play()}),[t,o]);return{rythmClassName:i,playStop:d}}(t),o=c.playStop,l=c.rythmClassName;return a.a.createElement("button",{onClick:o,className:l},n)}var m=Object(r.createContext)({});function f(){var e=Object(r.useContext)(m).characters,t=Object(r.useContext)(m).sounds,n=Object(r.useState)(),c=Object(u.a)(n,2),o=c[0],l=c[1],s=Object(r.useMemo)((function(){return o?t.filter((function(e){return e.characters.includes(o)})):t}),[o,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("select",{onChange:function(e){return l(e.target.value)}},a.a.createElement("option",null),e.map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement("div",null,s.map((function(e){return a.a.createElement(i,Object.assign({key:e.file},e))}))))}n(12);function d(){return a.a.createElement("div",{className:"app"},a.a.createElement(f,null))}var b=n(5);function v(e){var t=e.children,n=Object(r.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1];Object(r.useEffect)((function(){fetch("sounds/sounds.json").then((function(e){return e.json()})).then(l).catch(console.error)}),[]);var s=Object(r.useMemo)((function(){var e=o.map(h).sort((function(e,t){return e.title.localeCompare(t.title)})),t=Array.from(new Set(e.flatMap((function(e){return e.characters})))).sort();return{sounds:e,characters:t}}),[o]);return a.a.createElement(m.Provider,{value:s},t)}function h(e){return Object(b.a)({},e,{characters:e.character.split(" - ")})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null,a.a.createElement(d,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.391e968b.chunk.js.map